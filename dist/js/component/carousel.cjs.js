"use strict";var M=Object.defineProperty;var O=(s,t,e)=>t in s?M(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var a=(s,t,e)=>O(s,typeof t!="symbol"?t+"":t,e);function h(s,t){s===""||s.length===0||(typeof s=="string"?t.classList.add(s):t.classList.add(...s))}function p(s,t){s===""||s.length===0||(typeof s=="string"?t.classList.remove(s):t.classList.remove(...s))}function m(s){try{const t=s.key||s.keyCode,e={Enter:t==="Enter"||t===13,Space:t===" "||t==="Spacebar"||t===32,Escape:t==="Escape"||t==="Esc"||t===27,ArrowDown:t==="ArrowDown"||t===40,ArrowUp:t==="ArrowUp"||t===38,Home:t==="Home"||t===36,End:t==="End"||t===35};return Object.keys(e).find(r=>e[r]===!0)||""}catch{return""}}function _(s){s.preventDefault(),s.stopPropagation()}function f(s,t){try{if(typeof t!="object"){const e=typeof t;throw new TypeError(`Elements given to isValidInstance() must be inside of an object. "${e}" given.`)}for(const e in t)if(!(t[e]instanceof s)){const r=typeof t[e];throw new TypeError(`${e} must be an instance of ${s.name}. "${r}" given.`)}return{status:!0,error:null}}catch(e){return{status:!1,error:e}}}function n(s,t){try{if(typeof t!="object"){const e=typeof t;throw new TypeError(`Values given to isValidType() must be inside of an object. "${e}" given.`)}for(const e in t){const r=typeof t[e];if(r!==s)throw new TypeError(`${e} must be a ${s}. "${r}" given.`)}return{status:!0,error:null}}catch(e){return{status:!1,error:e}}}function d(s){try{if(typeof s!="object"){const t=typeof s;throw new TypeError(`Values given to isQuerySelector() must be inside of an object. "${t}" given.`)}for(const t in s)try{if(s[t]===null)throw new Error;document.querySelector(s[t])}catch{throw new TypeError(`${t} must be a valid query selector. "${s[t]}" given.`)}return{status:!0,error:null}}catch(t){return{status:!1,error:t}}}function l(s){try{if(typeof s!="object"||Array.isArray(s)){const t=typeof s;throw new TypeError(`Values given to isValidClassList() must be inside of an object. "${t}" given.`)}for(const t in s){const e=typeof s[t];if(e!=="string")if(Array.isArray(s[t]))s[t].forEach(r=>{if(typeof r!="string")throw new TypeError(`${t} must be a string or an array of strings. An array containing non-strings given.`)});else throw new TypeError(`${t} must be a string or an array of strings. "${e}" given.`);else{const r={};r[t]=s[t],d(r)}}return{status:!0,error:null}}catch(t){return{status:!1,error:t}}}function C(s,t){if(n("string",{tagName:s}).status&&f(HTMLElement,t).status){const e=s.toLowerCase();let r=!0;for(const o in t)t[o].tagName.toLowerCase()!==e&&(r=!1);return r}else return!1}class j{constructor({carouselElement:t,carouselItemSelector:e=".carousel-item",carouselItemContainerSelector:r=".carousel-item-container",carouselControlSelector:o=".carousel-control",carouselControlContainerSelector:u=".carousel-control-container",carouselTabSelector:c=".carousel-tab",carouselTabContainerSelector:y=".carousel-tab-container",autoplaySelector:i=".autoplay",nextSelector:I=".next",previousSelector:g=".previous",activeClass:b="active",previousClass:v="previous",nextClass:E="next",playClass:T="play",pauseClass:x="pause",autoplay:k=!0,transitionDelay:A=1e4,transitionDuration:w=500,playText:D="Play",pauseText:L="Pause",prefix:S="graupl-",initialize:$=!1}){a(this,"_dom",{carousel:null,carouselItems:[],carouselItemContainer:null,carouselControls:[],carouselControlContainer:null,carouselTabs:[],carouselTabContainer:null,autoplay:null,next:null,previous:null});a(this,"_selectors",{carouselItems:"",carouselItemContainer:"",carouselControls:"",carouselControlContainer:"",carouselTabs:"",carouselTabContainer:"",autoplay:"",next:"",previous:""});a(this,"_activeClass","active");a(this,"_previousClass","previous");a(this,"_nextClass","next");a(this,"_playClass","play");a(this,"_pauseClass","pause");a(this,"_currentItem",0);a(this,"_autoplay",!0);a(this,"_transitionDelay",1e4);a(this,"_transitionDuration",500);a(this,"_playText","Play");a(this,"_pauseText","Pause");a(this,"_currentAction","next");a(this,"_autoplayInterval",null);a(this,"_prefix","graupl-");a(this,"_errors",[]);this._dom.carousel=t,this._selectors.carouselItems=e,this._selectors.carouselItemContainer=r,this._selectors.carouselControls=o,this._selectors.carouselControlContainer=u,this._selectors.carouselTabs=c,this._selectors.carouselTabContainer=y,this._selectors.autoplay=i,this._selectors.next=I,this._selectors.previous=g,this._activeClass=b||"",this._previousClass=v||"",this._nextClass=E||"",this._playClass=T||"",this._pauseClass=x||"",this._autoplay=k,this._transitionDelay=A,this._transitionDuration=w,this._playText=D||"",this._pauseText=L||"",this._prefix=S||"",$&&this.initialize()}initialize(){try{if(!this._validate())throw new Error(`Graupl Carousel: cannot initialize carousel. The following errors have been found:
 - ${this.errors.join(`
 - `)}`);this._setDOMElements(),this._setIds(),this._setAriaAttributes(),this.activateFirstItem(),this._setTransitionDuration(),this._handleAutoplay(),this._handleFocus(),this._handleClick(),this._handleHover(),this._handleKeydown(),this._handleKeyup()}catch(t){console.error(t)}}get dom(){return this._dom}get selectors(){return this._selectors}get activeClass(){return this._activeClass}get previousClass(){return this._previousClass}get nextClass(){return this._nextClass}get playClass(){return this._playClass}get pauseClass(){return this._pauseClass}get currentItem(){return this._currentItem}get currentCarouselItem(){return this.dom.carouselItems[this.currentItem]}get currentCarouselTab(){return this.dom.carouselTabs[this.currentItem]}get autoplay(){return this._autoplay}get transitionDelay(){return this._transitionDelay}get transitionDuration(){return this._transitionDuration}get playText(){return this._playText}get pauseText(){return this._pauseText}get prefix(){return this._prefix}get currentAction(){return this._currentAction}get errors(){return this._errors}set currentItem(t){if(n("number",{value:t}),t===this.currentItem)return;t<0?this._currentItem=0:t>=this.dom.carouselItems.length?this._currentItem=this.dom.carouselItems.length-1:this._currentItem=t,this._dom.carousel.querySelectorAll(this.selectors.carouselTab)&&this.dom.carouselItems.forEach((r,o)=>{r.setAttribute("aria-selected",o===this._currentItem)})}set autoplay(t){n("boolean",{value:t}),this._autoplay!==t&&(this._autoplay=t)}set activeClass(t){l({activeClass:t}),this._activeClass!==t&&(this._activeClass=t)}set previousClass(t){l({previousClass:t}),this._previousClass!==t&&(this._previousClass=t)}set nextClass(t){l({nextClass:t}),this._nextClass!==t&&(this._nextClass=t)}set playClass(t){l({playClass:t}),this._playClass!==t&&(this._playClass=t)}set pauseClass(t){l({pauseClass:t}),this._pauseClass!==t&&(this._pauseClass=t)}set transitionDelay(t){n("number",{value:t}),t!==this.transitionDelay&&t>=0&&(this._currentItem=t)}set transitionDuration(t){n("number",{value:t}),this._transitionDuration!==t&&t>=0&&(this._transitionDuration=t,this._setTransitionDuration())}set playText(t){n("string",{value:t}),this._playText!==t&&(this._playText=t)}set pauseText(t){n("string",{value:t}),this._pauseText!==t&&(this._pauseText=t)}set prefix(t){n("string",{value:t}),this._prefix!==t&&(this._prefix=t)}_validate(){let t=!0;const e=f(HTMLElement,{carousel:this.dom.carousel});e||(this._errors.push(e.message),t=!1);const r=d({carouselItemsSelector:this._selectors.carouselItems,carouselItemContainerSelector:this._selectors.carouselItemContainer,carouselControlsSelector:this._selectors.carouselControls,carouselControlContainerSelector:this._selectors.carouselControlContainer,carouselTabsSelector:this._selectors.carouselTabs,carouselTabContainerSelector:this._selectors.carouselTabContainer,autoplaySelector:this._selectors.autoplay,nextSelector:this._selectors.next,previousSelector:this._selectors.previous});r||(this._errors.push(r.message),t=!1);const o=n("boolean",{autoplay:this.autoplay});o||(this._errors.push(o.message),t=!1);const u=n("number",{transitionDelay:this._transitionDelay});u||(this._errors.push(u.message),t=!1);const c=n("number",{transitionDuration:this._transitionDuration});if(c||(this._errors.push(c.message),t=!1),this._activeClass!==""){const i=l({activeClass:this._activeClass});i||(this._errors.push(i.message),t=!1)}if(this._previousClass!==""){const i=l({previousClass:this._previousClass});i||(this._errors.push(i.message),t=!1)}if(this._nextClass!==""){const i=l({nextClass:this._nextClass});i||(this._errors.push(i.message),t=!1)}if(this._playClass!==""){const i=l({playClass:this._playClass});i||(this._errors.push(i.message),t=!1)}if(this._pauseClass!==""){const i=l({pauseClass:this._pauseClass});i||(this._errors.push(i.message),t=!1)}if(this._playText!==""){const i=n("string",{playText:this._playText});i||(this._errors.push(i.message),t=!1)}if(this._pauseText!==""){const i=n("string",{pauseText:this._pauseText});i||(this._errors.push(i.message),t=!1)}const y=n("string",{prefix:this._prefix});return y||(this._errors.push(y.message),t=!1),t}_setDOMElementType(t,e=this.dom.carousel,r=!0){if(typeof this.selectors[t]=="string"){if(t==="carousel")throw new Error(`Graupl Carousel: "${t}" element cannot be set through _setDOMElementType.`);if(e!==this.dom.carousel&&f(HTMLElement,{base:e}),Array.isArray(this._dom[t])){const u=Array.from(e.querySelectorAll(this.selectors[t])).filter(c=>c.parentElement===e);r?this._dom[t]=u:this._dom[t]=[...this._dom[t],...u]}else{const o=e.querySelector(this.selectors[t]);if(o&&o.parentElement!==e)return;r&&(this._dom[t]=o)}}else throw new Error(`Graupl Carousel: "${t}" is not a valid element type within the carousel.`)}_resetDOMElementType(t){if(typeof this.selectors[t]=="string"){if(t==="carousel")throw new Error(`Graupl Carousel: "${t}" element cannot be reset through _resetDOMElementType.`);Array.isArray(this._dom[t])?this._dom[t]=[]:this._dom[t]=null}else throw new Error(`Graupl Carousel: "${t}" is not a valid element type within the carousel.`)}_setDOMElements(){this._setDOMElementType("carouselItemContainer"),this._setDOMElementType("carouselControlContainer"),this._setDOMElementType("carouselTabContainer"),this.dom.carouselItemContainer&&this._setDOMElementType("carouselItems",this.dom.carouselItemContainer),this.dom.carouselControlContainer&&(this._setDOMElementType("carouselControls",this.dom.carouselControlContainer),this._setDOMElementType("autoplay",this.dom.carouselControlContainer),this._setDOMElementType("next",this.dom.carouselControlContainer),this._setDOMElementType("previous",this.dom.carouselControlContainer)),this._dom.carouselTabContainer&&this._setDOMElementType("carouselTabs",this.dom.carouselTabContainer)}_setIds(){const t=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,10);this.dom.carouselItems.forEach((e,r)=>{e.id=e.id||`carousel-item-${t}-${r}`}),this.dom.carouselTabs.forEach((e,r)=>{e.id=e.id||`carousel-tab-${t}-${r}`})}_setAriaAttributes(){!C("section",{carousel:this.dom.carousel})&&!this.dom.carousel.getAttribute("role")!=="region"&&this.dom.carousel.setAttribute("role","group"),this._dom.carousel.setAttribute("aria-roledescription","carousel"),this.dom.carouselTabContainer&&this.dom.carouselTabContainer.setAttribute("role","tablist"),this.dom.carouselTabs.forEach((t,e)=>{C("button",{tab:t})||t.setAttribute("role","button"),t.setAttribute("aria-selected",e===0),t.setAttribute("aria-controls",this.dom.carouselItems[e].id)})}_setInterval(){this._clearInterval(),this._autoplayInterval=setInterval(()=>{this.activateNextItem()},this.transitionDelay)}_clearInterval(){clearInterval(this._autoplayInterval)}_handleAutoplay(){this.autoplay?(h(this.pauseClass,this.dom.autoplay),p(this.playClass,this.dom.autoplay),this.dom.autoplay.setAttribute("aria-label",this.pauseText),this.dom.carousel.setAttribute("aria-live","off"),this._setInterval()):(h(this.playClass,this.dom.autoplay),p(this.pauseClass,this.dom.autoplay),this.dom.autoplay.setAttribute("aria-label",this.playText),this.dom.carousel.setAttribute("aria-live","polite"),this._clearInterval())}_handleFocus(){this.dom.carousel.addEventListener("focusin",()=>{this.autoplay&&this._clearInterval()}),this.dom.carousel.addEventListener("focusout",()=>{this.autoplay&&this._setInterval()})}_handleClick(){this.dom.next.addEventListener("pointerup",()=>{this.activateNextItem()}),this.dom.previous.addEventListener("pointerup",()=>{this.activatePreviousItem()}),this.dom.autoplay.addEventListener("pointerup",()=>{this.toggleAutoplay()}),this.dom.carouselTabs.forEach((t,e)=>{t.addEventListener("pointerup",()=>{this.currentItem>e?this._currentAction="previous":this._currentAction="next",this.activateItem(e)})})}_handleHover(){this.dom.carousel.addEventListener("pointerover",()=>{this.autoplay&&this._clearInterval()}),this.dom.carousel.addEventListener("pointerleave",()=>{this.autoplay&&this._setInterval()})}_handleKeydown(){this.dom.carouselControls.forEach(t=>{t.addEventListener("keydown",e=>{switch(m(e)){case"Space":case"Enter":_(e);break}})}),this.dom.carouselTabs.forEach(t=>{t.addEventListener("keydown",e=>{switch(m(e)){case"Space":case"Enter":_(e);break}})})}_handleKeyup(){this.dom.next.addEventListener("keyup",t=>{switch(m(t)){case"Space":case"Enter":this.activateNextItem(),_(t);break}}),this.dom.previous.addEventListener("keyup",t=>{switch(m(t)){case"Space":case"Enter":this.activatePreviousItem(),_(t);break}}),this.dom.autoplay.addEventListener("keyup",t=>{switch(m(t)){case"Space":case"Enter":this.toggleAutoplay(),_(t);break}}),this.dom.carouselTabs.forEach((t,e)=>{t.addEventListener("keyup",r=>{switch(m(r)){case"Space":case"Enter":this.activateItem(e),_(r);break}})})}_setTransitionDuration(){this.dom.carousel.style.setProperty(`--${this.prefix}carousel-transition-duration`,`${this.transitionDuration}ms`)}activateCurrentItem(){h(this.activeClass,this.currentCarouselItem),this.currentCarouselTab&&(this.currentCarouselTab.setAttribute("aria-selected",!0),h(this.activeClass,this.currentCarouselTab))}deactivateCurrentItem(){p(this.activeClass,this.currentCarouselItem),this.currentCarouselTab&&(this.currentCarouselTab.setAttribute("aria-selected",!1),p(this.activeClass,this.currentCarouselTab))}activateItem(t){const e=this.currentItem;this.dom.carousel.dataset.grauplAction=this._currentAction,this.autoplay&&this._clearInterval(),h(this.previousClass,this.currentCarouselItem),h(this.nextClass,this.dom.carouselItems[t]),requestAnimationFrame(()=>{this.deactivateCurrentItem(),this.currentItem=t,this.activateCurrentItem(),requestAnimationFrame(()=>{setTimeout(()=>{p(this.previousClass,this.dom.carouselItems[e]),p(this.nextClass,this.currentCarouselItem)},this.transitionDuration)})}),this.autoplay&&this._setInterval()}activateFirstItem(){this.activateItem(0)}activateLastItem(){this.activateItem(this.dom.carouselItems.length-1)}activateNextItem(){this._currentAction="next",this.currentItem+1>=this.dom.carouselItems.length?this.activateFirstItem():this.activateItem(this.currentItem+1)}activatePreviousItem(){this._currentAction="previous",this.currentItem-1<0?this.activateLastItem():this.activateItem(this.currentItem-1)}toggleAutoplay(){this.autoplay=!this.autoplay,this._handleAutoplay()}}module.exports=j;
