var Alert=function(){"use strict";var L=Object.defineProperty;var j=(a,e,d)=>e in a?L(a,e,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[e]=d;var n=(a,e,d)=>j(a,typeof e!="symbol"?e+"":e,d);function a(s,t){try{if(typeof t!="object"){const i=typeof t;throw new TypeError(`Elements given to isValidInstance() must be inside of an object. "${i}" given.`)}for(const i in t)if(!(t[i]instanceof s)){const r=typeof t[i];throw new TypeError(`${i} must be an instance of ${s.name}. "${r}" given.`)}return{status:!0,error:null}}catch(i){return{status:!1,error:i}}}function e(s,t){try{if(typeof t!="object"){const i=typeof t;throw new TypeError(`Values given to isValidType() must be inside of an object. "${i}" given.`)}for(const i in t){const r=typeof t[i];if(r!==s)throw new TypeError(`${i} must be a ${s}. "${r}" given.`)}return{status:!0,error:null}}catch(i){return{status:!1,error:i}}}function d(s){try{if(typeof s!="object"){const t=typeof s;throw new TypeError(`Values given to isQuerySelector() must be inside of an object. "${t}" given.`)}for(const t in s)try{if(s[t]===null)throw new Error;document.querySelector(s[t])}catch{throw new TypeError(`${t} must be a valid query selector. "${s[t]}" given.`)}return{status:!0,error:null}}catch(t){return{status:!1,error:t}}}function f(s){try{if(typeof s!="object"||Array.isArray(s)){const t=typeof s;throw new TypeError(`Values given to isValidClassList() must be inside of an object. "${t}" given.`)}for(const t in s){const i=typeof s[t];if(i!=="string")if(Array.isArray(s[t]))s[t].forEach(r=>{if(typeof r!="string")throw new TypeError(`${t} must be a string or an array of strings. An array containing non-strings given.`)});else throw new TypeError(`${t} must be a string or an array of strings. "${i}" given.`);else{const r={};r[t]=s[t],d(r)}}return{status:!0,error:null}}catch(t){return{status:!1,error:t}}}function h(s,t){s===""||s.length===0||(typeof s=="string"?t.classList.add(s):t.classList.add(...s))}function l(s,t){s===""||s.length===0||(typeof s=="string"?t.classList.remove(s):t.classList.remove(...s))}function c(s){try{const t=s.key||s.keyCode,i={Enter:t==="Enter"||t===13,Space:t===" "||t==="Spacebar"||t===32,Escape:t==="Escape"||t==="Esc"||t===27,ArrowUp:t==="ArrowUp"||t==="Up"||t===38,ArrowRight:t==="ArrowRight"||t==="Right"||t===39,ArrowDown:t==="ArrowDown"||t==="Down"||t===40,ArrowLeft:t==="ArrowLeft"||t==="Left"||t===37,Home:t==="Home"||t===36,End:t==="End"||t===35,Tab:t==="Tab"||t===9};return Object.keys(i).find(r=>i[r]===!0)||""}catch{return""}}function w(s){s.preventDefault(),s.stopPropagation()}function C(s=null){window.Graupl=window.Graupl||{},e("string",{type:s})&&(window.Graupl[s]=window.Graupl[s]||{})}function g(s=null){return e("string",{type:s})?window.Graupl[s]:window.Graupl}function _(s,t={}){e("string",{type:s})&&e("object",{data:t})&&(window.Graupl[s]=t)}function y(s){e("string",{type:s})&&(window.Graupl[s]={})}function p(s,t,i){e("string",{type:s,key:t})&&(window.Graupl[s][t]=i)}function E(s,t){return e("string",{type:s,key:t})?window.Graupl[s][t]:null}function T(s,t){e("string",{type:s,key:t})&&delete window.Graupl[s][t]}const m={initializeStorage:C,getStorage:g,setStorage:_,clearStorage:y,pushToStorage:p,getFromStorage:E,removeFromStorage:T};class b{constructor({alertElement:t,controllerElement:i=null,showClass:r="show",hideClass:u="hide",transitionClass:o="transitioning",transitionTimer:k=150,isHidden:A=!1,key:S=null,initialize:$=!1}){n(this,"_dom",{alert:null,controller:null});n(this,"_hidden",!1);n(this,"_showClass","");n(this,"_hideClass","");n(this,"_transitionClass","");n(this,"_transitionTimer",150);n(this,"_key","");n(this,"_errors",[]);n(this,"_showEvent",new CustomEvent("grauplAlertShow",{bubbles:!0,detail:{alert:this}}));n(this,"_hideEvent",new CustomEvent("grauplAlertHide",{bubbles:!0,detail:{alert:this}}));this._dom.alert=t,this._dom.controller=i,this._showClass=r||"",this._hideClass=u||"",this._transitionClass=o||"",this._transitionTimer=k,this._hidden=A,this._key=S||"",$&&this.initialize()}initialize(){try{if(!this._validate())throw new Error(`Graupl Alert: cannot initialize alert. The following errors have been found:
 - ${this.errors.join(`
 - `)}`);this._generateKey(),this._setIds(),this._handleClick(),this._handleKeydown(),this._handleKeyup(),m.initializeStorage("alerts"),m.pushToStorage("alerts",this.dom.alert.id,this)}catch(t){console.error(t)}}get dom(){return this._dom}get showClass(){return this._showClass}get hideClass(){return this._hideClass}get transitionClass(){return this._transitionClass}get transitionTimer(){return this._transitionTimer}get key(){return this._key}set showClass(t){f({showClass:t}),this._showClass!==t&&(this._showClass=t)}set hideClass(t){f({hideClass:t}),this._hideClass!==t&&(this._hideClass=t)}set transitionClass(t){f({transitionClass:t}),this._transitionClass!==t&&(this._transitionClass=t)}set transitionTimer(t){e("number",{transitionTimer:t}),this._transitionTimer!==t&&(this._transitionTimer=t)}set key(t){e("string",{value:t}),this._key!==t&&(this._key=t)}_validate(){let t=!0,i;if(this._dom.controller!==null?i=a(HTMLElement,{alertElement:this._dom.alert,controllerElement:this._dom.controller}):i=a(HTMLElement,{alertElement:this._dom.alert}),i.status||(this._errors.push(i.message),t=!1),this._showClass!==""){const o=f({showClass:this._showClass});o.status||(this._errors.push(o.message),t=!1)}if(this._hideClass!==""){const o=f({hideClass:this._hideClass});o.status||(this._errors.push(o.message),t=!1)}if(this._transitionClass!==""){const o=f({transitionClass:this._transitionClass});o.status||(this._errors.push(o.message),t=!1)}const r=e("number",{transitionTimer:this._transitionTimer});r.status||(this._errors.push(r.message),t=!1);const u=e("boolean",{isHidden:this._hidden});return u.status||(this._errors.push(u.message),t=!1),t}_generateKey(t=!1){(this.key===""||t)&&(this.key=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,10))}_setIds(){this.dom.alert.id=this.dom.alert.id||`alert-${this.key}`,this.dom.controller.id=this.dom.controller.id||`alert-controller-${this.key}`}show(t=!0){this._hidden&&(this.transitionClass!==""?(h(this.transitionClass,this.dom.alert),requestAnimationFrame(()=>{this.hideClass!==""&&l(this.hideClass,this.dom.alert),requestAnimationFrame(()=>{this.showClass!==""&&h(this.showClass,this.dom.alert),requestAnimationFrame(()=>{l(this.transitionClass,this.dom.alert)})})})):(this.showClass!==""&&h(this.showClass,this.dom.alert),this.hideClass!==""&&l(this.hideClass,this.dom.alert)),this._hidden=!1,t&&this.dom.alert.dispatchEvent(this._hideEvent))}hide(t=!0){this._hidden||(this.transitionClass!==""?(h(this.transitionClass,this.dom.alert),requestAnimationFrame(()=>{this.showClass!==""&&l(this.showClass,this.dom.alert),requestAnimationFrame(()=>{this.transitionTimer>0?setTimeout(()=>{this.hideClass!==""&&h(this.hideClass,this.dom.alert),requestAnimationFrame(()=>{l(this.transitionClass,this.dom.alert)})},this.transitionTimer):(this.hideClass!==""&&h(this.hideClass,this.dom.alert),requestAnimationFrame(()=>{l(this.transitionClass,this.dom.alert)}))})})):(this.hideClass!==""&&h(this.hideClass,this.dom.alert),this.showClass!==""&&l(this.showClass,this.dom.alert)),this._hidden=!0,t&&this.dom.alert.dispatchEvent(this._hideEvent))}_handleClick(){this.dom.controller!==null&&this.dom.controller.addEventListener("pointerup",()=>this.hide())}_handleKeydown(){this.dom.controller!==null&&this.dom.controller.addEventListener("keydown",t=>{const i=c(t);(i==="Space"||i==="Enter")&&w(t)})}_handleKeyup(){this.dom.controller!==null&&this.dom.controller.addEventListener("keyup",t=>{const i=c(t);(i==="Space"||i==="Enter")&&this.hide()})}}return b}();
