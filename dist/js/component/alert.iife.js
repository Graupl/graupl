var Alert=function(){"use strict";var p=Object.defineProperty;var g=(a,r,d)=>r in a?p(a,r,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[r]=d;var o=(a,r,d)=>g(a,typeof r!="symbol"?r+"":r,d);function a(s,t){try{if(typeof t!="object"){const i=typeof t;throw new TypeError(`Elements given to isValidInstance() must be inside of an object. "${i}" given.`)}for(const i in t)if(!(t[i]instanceof s)){const e=typeof t[i];throw new TypeError(`${i} must be an instance of ${s.name}. "${e}" given.`)}return{status:!0,error:null}}catch(i){return{status:!1,error:i}}}function r(s,t){try{if(typeof t!="object"){const i=typeof t;throw new TypeError(`Values given to isValidType() must be inside of an object. "${i}" given.`)}for(const i in t){const e=typeof t[i];if(e!==s)throw new TypeError(`${i} must be a ${s}. "${e}" given.`)}return{status:!0,error:null}}catch(i){return{status:!1,error:i}}}function d(s){try{if(typeof s!="object"){const t=typeof s;throw new TypeError(`Values given to isQuerySelector() must be inside of an object. "${t}" given.`)}for(const t in s)try{if(s[t]===null)throw new Error;document.querySelector(s[t])}catch{throw new TypeError(`${t} must be a valid query selector. "${s[t]}" given.`)}return{status:!0,error:null}}catch(t){return{status:!1,error:t}}}function f(s){try{if(typeof s!="object"||Array.isArray(s)){const t=typeof s;throw new TypeError(`Values given to isValidClassList() must be inside of an object. "${t}" given.`)}for(const t in s){const i=typeof s[t];if(i!=="string")if(Array.isArray(s[t]))s[t].forEach(e=>{if(typeof e!="string")throw new TypeError(`${t} must be a string or an array of strings. An array containing non-strings given.`)});else throw new TypeError(`${t} must be a string or an array of strings. "${i}" given.`);else{const e={};e[t]=s[t],d(e)}}return{status:!0,error:null}}catch(t){return{status:!1,error:t}}}function h(s,t){s===""||s.length===0||(typeof s=="string"?t.classList.add(s):t.classList.add(...s))}function l(s,t){s===""||s.length===0||(typeof s=="string"?t.classList.remove(s):t.classList.remove(...s))}function c(s){try{const t=s.key||s.keyCode,i={Enter:t==="Enter"||t===13,Space:t===" "||t==="Spacebar"||t===32,Escape:t==="Escape"||t==="Esc"||t===27,ArrowUp:t==="ArrowUp"||t==="Up"||t===38,ArrowRight:t==="ArrowRight"||t==="Right"||t===39,ArrowDown:t==="ArrowDown"||t==="Down"||t===40,ArrowLeft:t==="ArrowLeft"||t==="Left"||t===37,Home:t==="Home"||t===36,End:t==="End"||t===35,Tab:t==="Tab"||t===9};return Object.keys(i).find(e=>i[e]===!0)||""}catch{return""}}function m(s){s.preventDefault(),s.stopPropagation()}class C{constructor({alertElement:t,controllerElement:i=null,showClass:e="show",hideClass:u="hide",transitionClass:n="transitioning",transitionTimer:y=150,isHidden:w=!1,initialize:_=!1}){o(this,"_dom",{alert:null,controller:null});o(this,"_hidden",!1);o(this,"_showClass","");o(this,"_hideClass","");o(this,"_transitionClass","");o(this,"_transitionTimer",150);o(this,"_errors",[]);o(this,"_showEvent",new CustomEvent("grauplAlertShow",{bubbles:!0,detail:{alert:this}}));o(this,"_hideEvent",new CustomEvent("grauplAlertHide",{bubbles:!0,detail:{alert:this}}));this._dom.alert=t,this._dom.controller=i,this._showClass=e||"",this._hideClass=u||"",this._transitionClass=n||"",this._transitionTimer=y,this._hidden=w,_&&this.initialize()}initialize(){try{if(!this._validate())throw new Error(`Graupl Alert: cannot initialize alert. The following errors have been found:
 - ${this.errors.join(`
 - `)}`);this._handleClick(),this._handleKeydown(),this._handleKeyup()}catch(t){console.error(t)}}get dom(){return this._dom}get showClass(){return this._showClass}get hideClass(){return this._hideClass}get transitionClass(){return this._transitionClass}get transitionTimer(){return this._transitionTimer}set showClass(t){f({showClass:t}),this._showClass!==t&&(this._showClass=t)}set hideClass(t){f({hideClass:t}),this._hideClass!==t&&(this._hideClass=t)}set transitionClass(t){f({transitionClass:t}),this._transitionClass!==t&&(this._transitionClass=t)}set transitionTimer(t){r("number",{transitionTimer:t}),this._transitionTimer!==t&&(this._transitionTimer=t)}_validate(){let t=!0,i;if(this._dom.controller!==null?i=a(HTMLElement,{alertElement:this._dom.alert,controllerElement:this._dom.controller}):i=a(HTMLElement,{alertElement:this._dom.alert}),i.status||(this._errors.push(i.message),t=!1),this._showClass!==""){const n=f({showClass:this._showClass});n.status||(this._errors.push(n.message),t=!1)}if(this._hideClass!==""){const n=f({hideClass:this._hideClass});n.status||(this._errors.push(n.message),t=!1)}if(this._transitionClass!==""){const n=f({transitionClass:this._transitionClass});n.status||(this._errors.push(n.message),t=!1)}const e=r("number",{transitionTimer:this._transitionTimer});e.status||(this._errors.push(e.message),t=!1);const u=r("boolean",{isHidden:this._hidden});return u.status||(this._errors.push(u.message),t=!1),t}show(t=!0){this._hidden&&(this.transitionClass!==""?(h(this.transitionClass,this.dom.alert),requestAnimationFrame(()=>{this.hideClass!==""&&l(this.hideClass,this.dom.alert),requestAnimationFrame(()=>{this.showClass!==""&&h(this.showClass,this.dom.alert),requestAnimationFrame(()=>{l(this.transitionClass,this.dom.alert)})})})):(this.showClass!==""&&h(this.showClass,this.dom.alert),this.hideClass!==""&&l(this.hideClass,this.dom.alert)),this._hidden=!1,t&&this.dom.alert.dispatchEvent(this._hideEvent))}hide(t=!0){this._hidden||(this.transitionClass!==""?(h(this.transitionClass,this.dom.alert),requestAnimationFrame(()=>{this.showClass!==""&&l(this.showClass,this.dom.alert),requestAnimationFrame(()=>{this.transitionTimer>0?setTimeout(()=>{this.hideClass!==""&&h(this.hideClass,this.dom.alert),requestAnimationFrame(()=>{l(this.transitionClass,this.dom.alert)})},this.transitionTimer):(this.hideClass!==""&&h(this.hideClass,this.dom.alert),requestAnimationFrame(()=>{l(this.transitionClass,this.dom.alert)}))})})):(this.hideClass!==""&&h(this.hideClass,this.dom.alert),this.showClass!==""&&l(this.showClass,this.dom.alert)),this._hidden=!0,t&&this.dom.alert.dispatchEvent(this._hideEvent))}_handleClick(){this.dom.controller!==null&&this.dom.controller.addEventListener("pointerup",()=>this.hide())}_handleKeydown(){this.dom.controller!==null&&this.dom.controller.addEventListener("keydown",t=>{const i=c(t);(i==="Space"||i==="Enter")&&m(t)})}_handleKeyup(){this.dom.controller!==null&&this.dom.controller.addEventListener("keyup",t=>{const i=c(t);(i==="Space"||i==="Enter")&&this.hide()})}}return C}();
