// Variables referencing custom properties.

@use "defaults";
@use "sass:map";

$colors: ();

@each $color, $map in defaults.$colors {
  $color-map: ();

  @each $shade, $value in $map {
    $color-property: var(--#{defaults.$prefix}-#{$color}--#{$shade}, $value);

    $color-map: map.merge(
      $color-map,
      (
        $shade: $color-property,
      )
    );
  }

  $colors: map.merge(
    $colors,
    (
      $color: $color-map,
    )
  );
}

$theme-light: ();
$theme-dark: ();
$theme-active: ();

@each $color, $map in $colors {
  $light-map: ();
  $dark-map: ();
  $active-map: ();

  @each $shade, $value in $map {
    $dark-shade: map.get(defaults.$dark-map, $shade);
    $dark-value: map.get($map, $dark-shade);

    $light-property: var(
      --#{defaults.$prefix}-theme-light--#{$color}--#{$shade},
      $value
    );
    $dark-property: var(
      --#{defaults.$prefix}-theme-dark--#{$color}--#{$shade},
      $dark-value
    );
    $active-property: var(
      --#{defaults.$prefix}-theme-active--#{$color}--#{$shade},
      $light-property
    );

    $light-map: map.merge(
      $light-map,
      (
        $shade: $light-property,
      )
    );
    $dark-map: map.merge(
      $dark-map,
      (
        $shade: $dark-property,
      )
    );
    $active-map: map.merge(
      $active-map,
      (
        $shade: $active-property,
      )
    );
  }

  $theme-light: map.merge(
    $theme-light,
    (
      $color: $light-map,
    )
  );
  $theme-dark: map.merge(
    $theme-dark,
    (
      $color: $dark-map,
    )
  );
  $theme-active: map.merge(
    $theme-active,
    (
      $color: $active-map,
    )
  );
}

// Font properties.
$font-family: var(--#{defaults.$prefix}-font-family, #{defaults.$font-family});
$font-size: var(--#{defaults.$prefix}-font-size, #{defaults.$font-size});
